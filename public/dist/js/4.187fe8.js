(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{38:function(t,e,a){"use strict";a.r(e);var r=a(1),i=a.n(r),n=a(4),o=a.n(n),s=a(5);function l(t,e,a,r,i,n,o){try{var s=t[n](o),l=s.value}catch(t){return void a(t)}s.done?e(l):Promise.resolve(l).then(r,i)}var c={name:"shelter_form",middleware:"guest",metaInfo:function(){return{title:this.$t("register")}},data:function(){return{form:new o.a({name:"",email:"",password:"",password_confirm:"",website:"",type:"",about:"",location:""}),mustVerifyEmail:!1,markers:{},phone:"1868",carusel_current:0,textarea:"",curr_position:{lat:10.536421,lng:-61.311951},alert:"",pos:{lat:10.536421,lng:-61.311951},text:"Sign UP",inputErrors:null,checkbox:!1,validation:null,myCarouselData:0,place:"Trinidad",clicked:!1,age:null,breed_options:{},size_options:{},tel_props:{defaultCountry:"TT",mode:"auto",autoFormat:!0,validCharactersOnly:!0,required:!0,inputOptions:{required:!0,placeholder:"XXX XXX XXXX",maxLen:25,autocomplete:"on"}}}},watch:{carusel_current:function(){console.log("carusel_current: "+this.carusel_current)}},computed:Object(s.b)({user:"auth/user"}),mounted:function(){this.breed_options=["Bologna","Rome","Florence"],this.size_options=["extra-small","small","medium","large","extra-large"],navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){this.curr_position={lat:t.coords.latitude,lng:t.coords.longitude}}))},methods:{clear_phone:function(){document.getElementsByClassName("vti__input")[0].value=""},resetValidation:function(){this.$refs.form.resetValidation()},success_response:function(t){this.$swal.fire("Success!","Congrats you are all set!","success")},fail_response:function(t){},submitHandler:function(){var t,e=this;return(t=i.a.mark((function t(){var a,r,n,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.form.post("/api/register");case 2:if(a=t.sent,!(r=a.data).status){t.next=8;break}e.mustVerifyEmail=!0,t.next=16;break;case 8:return t.next=10,e.form.post("/api/login");case 10:return n=t.sent,o=n.data.token,e.$store.dispatch("auth/saveToken",{token:o}),t.next=15,e.$store.dispatch("auth/updateUser",{user:r});case 15:e.$router.push({name:"home"});case 16:case"end":return t.stop()}}),t)})),function(){var e=this,a=arguments;return new Promise((function(r,i){var n=t.apply(e,a);function o(t){l(n,r,i,o,s,"next",t)}function s(t){l(n,r,i,o,s,"throw",t)}o(void 0)}))})()},reset:function(){this.clicked=!1},back:function(){appRouter.push("main")}}},u=(a(82),a(0)),m=Object(u.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",attrs:{id:"shelter_form "}},[a("div",{staticClass:"row justify-content-center h-100"},[a("div",{staticClass:"col-lg-6 col-md-8 col-sm-10 my-auto"},[a("FormulateForm",{staticClass:"shadow form_area row",attrs:{errors:t.inputErrors,"invalid-message":"Not all fields were filled out properly"},on:{validation:function(e){t.validation=e}}},[a("v-carousel",{staticClass:"pb-5",attrs:{dark:"","show-arrows-on-hover":"","hide-delimiter-background":"","hide-delimiters":2==t.carusel_current,"delimiter-icon":"mdi-paw",progress:"",height:"600","progress-color":"success",continuous:!1},scopedSlots:t._u([{key:"prev",fn:function(e){var r=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:"",color:"primary"}},"v-btn",i,!1),r),[a("v-icon",[t._v("mdi-arrow-left")])],1)]}},{key:"next",fn:function(e){var r=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:"",color:"primary"}},"v-btn",i,!1),r),[a("v-icon",[t._v("mdi-arrow-right")])],1)]}}]),model:{value:t.carusel_current,callback:function(e){t.carusel_current=e},expression:"carusel_current"}},[a("h4",{staticClass:"w-100 mx-auto text-center m-3 text-primary"},[t._v("\n            "+t._s(this.form.name?this.form.name+"'s Profile":"Complete your Shelter Profile")+"\n          ")]),t._v(" "),a("v-carousel-item",{staticClass:"carousel_item"},[a("v-img",{attrs:{contain:"","lazy-src":"/images/shelter_blue.png","max-height":"200",src:"/images/shelter_blue.png"}}),t._v(" "),a("v-divider"),t._v(" "),a("FormulateInput",{staticClass:"input_field w-75",attrs:{name:"name",type:"text",label:"Shelter Name",placeholder:"Name",validation:"required","label-is-valid-class":"my-valid-class"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t._v(" "),a("v-divider"),t._v(" "),a("FormulateInput",{staticClass:"input_field w-75 mb-3",attrs:{label:"What kind of shelter "+(this.form.name?"is "+this.form.name:"are you?"),type:"select",name:"type",validation:"required",options:["Home Rescue","Animal Shelter","Community Rescue Group","Vet Clinic","Farm"]},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}})],1),t._v(" "),a("v-carousel-item",{staticClass:"carousel_item"},[a("v-img",{attrs:{contain:"","lazy-src":"/images/shelter_purple.png","max-height":"200",src:"/images/shelter_purple.png"}}),t._v(" "),a("v-divider"),t._v(" "),a("FormulateInput",{staticClass:"input_field w-75 mb-3",attrs:{name:"email",type:"email",label:(this.form.name?this.form.name+"'s ":"")+"Email Address",placeholder:"Email Address",validation:"required|email","label-is-valid-class":"my-valid-class"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),t._v(" "),a("div",{staticClass:"w-75 mx-auto",on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"backspace",void 0,e.key,void 0)?null:t.clear_phone()},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?null:t.clear_phone()}]}},[a("label",{staticClass:"formulate-input-label w-100"},[t._v("Phone")]),t._v(" "),a("vue-tel-input",t._b({staticClass:"input_field w-75 my-2",model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}},"vue-tel-input",t.tel_props,!1))],1),t._v(" "),a("FormulateInput",{staticClass:"input_field",attrs:{name:"website",type:"url",label:(this.form.name?this.form.name+"'s ":"")+"Website",placeholder:"Website"},model:{value:t.form.website,callback:function(e){t.$set(t.form,"website",e)},expression:"form.website"}})],1),t._v(" "),a("v-carousel-item",{staticClass:"carousel_item"},[a("v-img",{attrs:{contain:"","lazy-src":"/images/shelter_green.png","max-height":"200",src:"/images/shelter_green.png"}}),t._v(" "),a("v-spacer"),t._v(" "),a("FormulateInput",{staticClass:"input_field w-100 mt-3",attrs:{name:"about",type:"textarea",label:"Tell us a little about "+(this.form.name?this.form.name:"your Shelter"),validation:"required|max:500,length",help:"Try to keep it under 500 characters. "+(500-t.textarea.length)+" left.","label-is-valid-class":"my-valid-class"},model:{value:t.form.about,callback:function(e){t.$set(t.form,"about",e)},expression:"form.about"}}),t._v(" "),a("div",{staticClass:"row my-auto"},[a("FormulateInput",{staticClass:"input_field col-5 mx-auto",attrs:{name:"password",type:"password",label:"Password",placeholder:"Your password",validation:"required|min:6,length","label-is-valid-class":"my-valid-class"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),t._v(" "),a("FormulateInput",{staticClass:"input_field col-5 mx-auto",attrs:{name:"password_confirm",type:"password",label:"Confirm password",placeholder:"Confirm password",validation:"required|confirm|min:6,length","label-is-valid-class":"my-valid-class"},model:{value:t.form.password_confirm,callback:function(e){t.$set(t.form,"password_confirm",e)},expression:"form.password_confirm"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"row center"},[a("div",{staticClass:"col-4 text-center"},[a("div")]),t._v(" "),2==t.carusel_current?a("div",{staticClass:"col-4 text-center"},[a("div",[a("v-btn",{staticClass:"ma-2",attrs:{color:"primary",rounded:"",type:"submit"},on:{click:function(e){return e.preventDefault(),t.submitHandler(e)}}},[t._v("Continue\n              ")])],1)]):a("div",{staticClass:"col-4 text-center"},[a("div")]),t._v(" "),a("div",{staticClass:"col-4 text-center"},[a("div")])])],1)],1)])])}),[],!1,null,null,null);e.default=m.exports},51:function(t,e,a){var r=a(83);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(11)(r,i);r.locals&&(t.exports=r.locals)},82:function(t,e,a){"use strict";a(51)},83:function(t,e,a){(t.exports=a(10)(!1)).push([t.i,".formulate-input-element--radio{display:inline-flex;width:2vw;margin:auto!important}.v-carousel__controls__item{background:#1976d2!important}.alert{background:none!important;padding:none}.v-input__slot{width:auto!important;margin:auto!important}.v-snack__content{flex-grow:1!important;font-size:.575rem!important;font-weight:400!important;line-height:1.25rem!important;text-align:center!important;padding:1px!important}.input_field{text-align:center!important;margin:auto!important;justify-content:center!important;padding:1vh!important;border-radius:1vh!important}.v-snack__wrapper.theme--dark{color:#fff;transition:1s ease-in;background:linear-gradient(45deg,#58b87c,#068768)!important}.close_snackbar{color:#751714!important;margin:1px!important}input,option,select,textarea{text-align:center!important;-moz-text-align-last:center!important;text-align-last:center!important;border-radius:.5vh;padding:1vh .5vh;width:100%;font-size:2.2vh!important;margin:auto!important;justify-content:center!important}textarea{height:150px}.formulate-input:hover{border:1px solid rgba(29,141,172,.7);border-radius:.5vh}.pagination{border-radius:1vh;padding:0;justify-content:center}.img_logo{max-height:45vh;max-width:60vh}a,a:active,a:link,a:visited{color:#6495ed}.formulate-input-error{color:#dc143c;padding:.5vh}.formulate-input-errors{background:rgba(220,20,60,.143);border-radius:.5vh;font-size:1.7vh}.formulate-input-help{color:green;background:rgba(20,220,30,.143);border-radius:.5vh;font-size:1.7vh}.wipay_logo{display:none}.formulate-input-label,label{text-align:center!important;margin:auto!important}.formulate-input-label{justify-content:center!important;font-size:18px!important;font-weight:500;color:#1976d2!important;font-family:Trebuchet MS,Lucida Sans Unicode,Lucida Grande,Lucida Sans,Arial,sans-serif!important}.my-valid-class{color:green!important}.form_area{align-self:center;margin:auto;border-radius:1vh;background:#fff;justify-content:center;align-items:center;padding:2vh}.form-title{margin:auto;padding:1vh;text-align:center}",""])}}]);